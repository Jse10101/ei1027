<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF8">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootswatch/4.4.1/journal/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="/css/volunteer/horaris.css"
          th:href="@{/css/volunteer/horaris.css}"/>
    <title>Majors a casa</title>
</head>

<body>
<div class="contenedor">
    <header>
        <div class="loggeduser" th:object="${session}">
            <div class="boton_atras"><a th:href="@{/volunteer/home}" class="btn btn-primary">PÃ€GINA PRINCIPAL</a></div>
            <p th:if="*{volunteer.name == null}">
                No autentificat &nbsp;<a href="/login" th:href="@{/login}">ACCEDIR</a>
            </p>
            <p th:unless="*{volunteer.name == null}">
                Accedeixes com a&nbsp;<span th:text="*{volunteer.name}"></span> &nbsp;
                <a href="/logout" th:href="@{/logout}">EIXIR</a>
            </p>
        </div>
    </header>

    <main class="main_acompanyament" >
        <div class="container">
            <h2>Nova Disponibilitat</h2>
            <form class="form-horizontal" action="#" th:action="@{/availability/add}"
                  th:object="${availability}" method="post">
                <div class="form-group row">
                    <label class="control-label col-sm-2" for="fecha">Data:</label>
                    <div class="col-sm-4">
                        <input type="date" required class="form-control" id="fecha" th:field="*{fecha}"/>
                        <div th:if="${#fields.hasErrors('fecha')}" th:errors="*{fecha}"></div>
                    </div>
                </div>
                <div class="form-group row">
                    <label class="control-label col-sm-2" for="beginingHour">Hora d'inici:</label>
                    <div class="col-sm-4">
                        <input type="time" required class="form-control" id="beginingHour" th:field="*{beginingHour}"/>
                        <div th:if="${#fields.hasErrors('beginingHour')}" th:errors="*{beginingHour}"></div>
                    </div>
                </div>

                <div class="form-group row">
                    <label class="control-label col-sm-2" for="endingHour">Hora de fi:</label>
                    <div class="col-sm-4">
                        <input type="time" required class="form-control" id="endingHour" th:field="*{endingHour}"/>
                        <div th:if="${#fields.hasErrors('endingHour')}" th:errors="*{endingHour}"></div>
                    </div>
                </div>

                <div class="form-group row">
                    <div class="col-sm-offset-2 col-sm-4">
                        <a href="list">
                            <button type="submit" class="btn btn-primary">Afegeix Disponibilitat</button>
                        </a>
                    </div>
                </div>

            </form>
        </div>
    </main>

    <aside>
        <div class ="text">LLISTAT D'HORARIS OFERITS:</div>
        <div class="bucle" th:each="horari : ${availabilities}">
            <div class="primerIf" th:if="${horari.stateAvailability}">
                <div class="pack_nom_dades"><div class="nom_dada1">DATA</div><div class="nom_dada2">INICI</div><div class="nom_dada3">FI</div><div class="nom_dada3">ESTAT</div></div>
                <div class="pack_dades"><div class="primera_dada" th:text="${horari.fecha}"></div><div class="dada" th:text="${horari.beginingHour}"></div><div class="dada" th:text="${horari.endingHour}"></div><div class="ultima_dada" th:text="${horari.stateAvailability}"></div></div>
                <!-- <a th:href="@{/availability/update/{fecha}/{dni_volunteer}/{beginingHour}(fecha=${horari.fecha}, dni_volunteer=${horari.dni_volunteer}, beginingHour=${horari.beginingHour})}" class="btn btn-warning" role="button">Edita</a> -->
                <a th:href="@{/availability/delete/{fecha}/{dni_volunteer}/{beginingHour}(fecha=${horari.fecha}, dni_volunteer=${horari.dni_volunteer}, beginingHour=${horari.beginingHour})}" class="btn btn-danger" role="button">Esborra</a>
            </div>
        </div>
        <div class="bucle" th:each="horari : ${availabilities}">
            <div class="primerIf" th:unless="${horari.stateAvailability}">
                <div class="pack_nom_dades"><div class="nom_dada1">DATA</div><div class="nom_dada2">INICI</div><div class="nom_dada3">FI</div><div class="nom_dada3">ESTAT</div></div>
                <div class="pack_dades"><div class="primera_dada" th:text="${horari.fecha}"></div><div class="dada" th:text="${horari.beginingHour}"></div><div class="dada" th:text="${horari.endingHour}"></div><div class="ultima_dada" th:text="${horari.stateAvailability}"></div></div>
            </div>
        </div>
    </aside>

    <footer>
        Majors a Casa - 2020
    </footer>
</div>
</body>

</html>